#!/bin/bash
# List all processes with a tree-like hierarchy

# Function to generate process hierarchy
generate_process_tree() {
  local parent_pid="$1"
  local prefix="$2"
  local processes="$(ps --ppid "$parent_pid" --no-headers -o pid)"

  for pid in $processes; do
    local process_info=$(ps -p "$pid" -o user,pid,%cpu,%mem,vsz,rss,tty,stat,start,time,comm --no-headers)
    echo "$prefix$process_info"
    generate_process_tree "$pid" "$prefix  "
  done
}

# Initial call to display all top-level processes
generate_process_tree 1 ""
